# =============================================================================
# 데이터 관리 & 학습 자동화 플랫폼 - 환경변수 설정
# 이 파일을 복사하여 .env 로 사용하세요: cp .env.example .env
# .env 는 절대 git에 커밋하지 마세요.
# =============================================================================

# -----------------------------------------------------------------------------
# [필수] PostgreSQL 설정
# -----------------------------------------------------------------------------
POSTGRES_USER=mlplatform
POSTGRES_PASSWORD=mlplatform_secret_change_me
POSTGRES_DB=mlplatform
POSTGRES_HOST=postgres
POSTGRES_PORT=5432

# FastAPI용 async URL
DATABASE_URL=postgresql+asyncpg://mlplatform:mlplatform_secret_change_me@postgres:5432/mlplatform

# Celery용 sync URL (db+ prefix 필수)
CELERY_BROKER_URL=db+postgresql://mlplatform:mlplatform_secret_change_me@postgres:5432/mlplatform
CELERY_RESULT_BACKEND=db+postgresql://mlplatform:mlplatform_secret_change_me@postgres:5432/mlplatform

# -----------------------------------------------------------------------------
# [필수] 스토리지 설정
# -----------------------------------------------------------------------------
# 스토리지 백엔드 선택: local | s3
STORAGE_BACKEND=local

# [local 백엔드] NAS 마운트 경로
# - NAS를 /mnt/nas 에 마운트 후 아래 경로로 설정
# - docker-compose에서 이 경로를 컨테이너에 bind mount함
# - 개발환경: ./data/datasets 등 로컬 경로로 변경 가능
LOCAL_STORAGE_BASE=/mnt/nas/datasets

# [s3 백엔드] 3차 K8S 전환 시 사용 (현재 미사용)
# S3_ENDPOINT=http://minio:9000
# S3_ACCESS_KEY=minioadmin
# S3_SECRET_KEY=minioadmin
# S3_BUCKET=mlplatform
# S3_REGION=us-east-1

# EDA 결과 저장 경로 (LOCAL_STORAGE_BASE 기준 상대경로 아님, 별도 경로)
LOCAL_EDA_BASE=/mnt/nas/eda

# -----------------------------------------------------------------------------
# [필수] 애플리케이션 설정
# -----------------------------------------------------------------------------
# 운영: production | 개발: development
APP_ENV=development
APP_DEBUG=true
APP_HOST=0.0.0.0
APP_PORT=8000

# CORS 허용 origin (쉼표로 구분, 개발 시 프론트 포트 추가)
CORS_ORIGINS=http://localhost:3000,http://localhost:5173

# API prefix
API_V1_PREFIX=/api/v1

# -----------------------------------------------------------------------------
# [선택] 이메일 알림 설정 (2차 이후 활성화)
# -----------------------------------------------------------------------------
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASSWORD=your-app-password
# SMTP_FROM=noreply@mlplatform.local
# NOTIFICATION_EMAIL_TO=team@example.com

# -----------------------------------------------------------------------------
# [선택] MLflow 설정 (Phase 5 / 2차 이후 활성화)
# -----------------------------------------------------------------------------
# MLFLOW_TRACKING_URI=http://mlflow:5000
# MLFLOW_ARTIFACT_LOCATION=s3://mlplatform/mlflow-artifacts

# -----------------------------------------------------------------------------
# [선택] 시크릿 키 (JWT 등 향후 인증 추가 시 사용)
# -----------------------------------------------------------------------------
SECRET_KEY=change-me-to-a-random-secret-key-at-least-32-chars
