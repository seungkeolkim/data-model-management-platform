# =============================================================================
# 플랫폼 설정 파일 (config.ini)
# .env 와 달리 민감정보가 없는 설정값들을 여기서 관리합니다.
# 환경별로 값이 달라지는 민감 정보(비밀번호, 키 등)는 반드시 .env 사용.
# =============================================================================

[app]
# 애플리케이션 이름
name = ML Platform
version = 0.1.0

# API 응답 페이지네이션 기본값
default_page_size = 20
max_page_size = 200

[storage]
# NAS 내부 폴더 구조 규칙 (실제 경로 루트는 .env의 LOCAL_STORAGE_BASE)
# 타입별 하위 디렉토리명
dir_raw = raw
dir_source = source
dir_processed = processed
dir_fusion = fusion
dir_eda = eda

# 버저닝 형식 (semver 권장: vMAJOR.MINOR.PATCH)
version_format = v{major}.{minor}.{patch}
version_initial = v1.0.0

# 이미지 확장자 허용 목록
allowed_image_extensions = .jpg,.jpeg,.png,.bmp,.tiff,.tif,.webp

# annotation 파일명 규칙
annotation_filename = annotation.json
images_dirname = images

[dataset]
# dataset_type ENUM 목록 (코드와 동기화 필요)
types = RAW,SOURCE,PROCESSED,FUSION

# annotation_format ENUM 목록
annotation_formats = COCO,YOLO,ATTR_JSON,CLS_FOLDER,CUSTOM,NONE

# task_type 목록
task_types = DETECTION,SEGMENTATION,ATTR_CLASSIFICATION,ZERO_SHOT,CLASSIFICATION

# modality 목록
modalities = RGB,THERMAL,DEPTH,MULTISPECTRAL

# split 목록
splits = TRAIN,VAL,TEST,NONE

[pipeline]
# 파이프라인 진행률 업데이트 주기 (N장마다 DB 업데이트)
progress_update_interval = 100

# 파이프라인 최대 동시 실행 수 (Celery concurrency와 연계)
max_concurrent_pipelines = 3

# 이미지 처리 시 JPEG 기본 품질 (change_compression 미설정 시)
default_jpeg_quality = 95

[celery]
# Celery worker concurrency (CPU 코어 수에 맞게 조정)
worker_concurrency = 4

# task timeout (초) - 대용량 데이터셋 처리를 위해 충분히 크게
task_soft_time_limit = 86400
task_time_limit = 90000

# 결과 만료 시간 (초, 7일)
result_expires = 604800

[logging]
# 로그 레벨: DEBUG | INFO | WARNING | ERROR | CRITICAL
level = INFO

# 로그 포맷
format = %(asctime)s [%(levelname)s] %(name)s: %(message)s

# 로그 파일 경로 (비워두면 stdout만)
# file = /var/log/mlplatform/app.log

[materialized_view]
# dataset_group_summary Materialized View 자동 refresh 여부
# true: 등록/수정/삭제 시 즉시 refresh (소규모), false: 별도 스케줄 필요
auto_refresh = true
